var pb_synthesis=function(a){"use strict";var b=a(document),c=a(window),d={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return d.Android()||d.BlackBerry()||d.iOS()||d.Opera()||d.Windows()}},e=function(){a("html, body").addClass("scrollable-lock"),b.on("touchmove",function(a){a.preventDefault()}),a(document.body).on("touchstart",".scrollable",function(a){this.scrollHeight!==this.clientHeight&&(0===this.scrollTop&&(this.scrollTop=1),this.scrollTop===this.scrollHeight-this.clientHeight&&(this.scrollTop=this.scrollHeight-this.clientHeight-1)),this.allowUp=this.scrollTop>0,this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight,this.lastY=a.originalEvent.pageY}),a(document.body).on("touchmove",".scrollable",function(a){var b=a.originalEvent,c=b.pageY>this.lastY,d=!c;this.lastY=b.pageY,c&&this.allowUp||d&&this.allowDown?b.stopPropagation():b.preventDefault()})},f=function(){a("html, body").removeClass("scrollable-lock"),b.off("touchmove")},g=function(){a(".js-scroll-to-top").on("click",function(b){b.preventDefault(),a("html, body").animate({scrollTop:0},"slow")})},h=function(){var b=a("iframe"),d=function(){b.each(function(){a(this).height(a(this).attr("height")/a(this).attr("width")*a(this).width())})};d(),c.resize(function(){d()})},i=function(){a("select").select2({width:"100%",minimumResultsForSearch:-1,dir:pb_phpjs.var.dir})},j=function(){var b=a('a[href*=".jpg"], a[href*="jpeg"], a[href*=".png"], a[href*=".gif"]');pb_phpjs.var.general_image_popup&&b.magnificPopup({type:"image",closeOnContentClick:!1,closeBtnInside:!1,image:{verticalFit:!0,titleSrc:function(a){return a.el.find("img").attr("alt")}},gallery:{enabled:!0},removalDelay:300,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure animated fadeIn")}}})},k=function(){var b=a(".js-menu-open"),c=a(".js-menu-close"),d=a(".js-site-navigation-mobile");b.on("click",function(a){a.preventDefault(),c.addClass("active"),d.addClass("open animated fadeIn"),e()}),c.on("click",function(b){b.preventDefault(),a(this).removeClass("active"),d.removeClass("open animated fadeIn"),f()})},l=function(){var b=a(".js-site-top"),c=a(".js-search-icon"),e=c.parent().find(".search-form-wrapper"),f=e.find(".search-field");c.on("click",function(c){c.preventDefault(),a(this).toggleClass("active"),e.toggleClass("open animated fadeIn"),e.hasClass("open")?(d.any()||f.focus(),b.css({"z-index":"auto"}),a("html, body").addClass("scrollable-lock")):(f.blur(),b.removeAttr("style"),a("html, body").removeClass("scrollable-lock"))})},m=function(){a(".js-clickable").on("click",function(){return window.location=a(this).data("url"),!1})},n=function(){document.addEventListener("lazybeforeunveil",function(a){var b=a.target.getAttribute("data-bg");b&&(a.target.style.backgroundImage="url("+b+")")})};return{init:function(){g(),h(),i(),j(),k(),l(),m(),n()}}}(jQuery);pb_synthesis.init();